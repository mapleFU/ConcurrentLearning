模拟机场安检排队系统程序设计的实验要求
一．机场安检大厅配置
1. 机场安检大厅设有一个排队缓冲区以及8个安检口（安检口序号为1~8）。等待安检的乘客首先需要进入 “排队缓冲区”进行等待，当有空闲的安检口时队首的乘客从排队缓冲区进入“安检口通道”，等待安检。每个安检口最多排6位乘客，安检人员按顺序为乘客提供安检服务，每次检查1个乘客。

2. “排队缓冲区”初始状态下是直线型。一个直队最多能容纳MaxCustSingleLine位乘客。当等待安检的乘客人流量超过MaxCustSingleLine时，系统自动调整排队缓冲区为蛇形缓冲区，且蛇形缓冲区的形态会根据排队乘客数量进行动态调整。蛇形缓冲区最多由MaxLines个直队构成，如果排队乘客数超过了排队缓冲区最大容量，则剩下的乘客不允许进入排队缓冲区。
3. 初始状态下，先开放4个安检口，后续可以根据乘客流量开放/关闭部分安检口（属于可选的高级功能，功能描述见后面）。
4. 安检口可以申请暂停服务，休息一段时间。系统会根据一定策略来判断安检口能否休息（休息策略见第二部分描述）。
5. 当下班时间到或收到“下班”指令后，安检口不再接收新来的乘客；等原有排队的乘客都被处理完毕，才允许正式下班，关闭安检大厅，退出程序。

机场安检大厅的运行控制
1．初始状态下，开放4个安检口，状态为空闲，处于等待服务状态；安检口队列和“排队缓冲区”中无乘客。
2.  乘客可以在任意时刻进入“排队缓冲区”等待安检。如果当前开放的安检口对应的乘客排队队列不满6人，就可以分配位于“排队缓冲区”队首的乘客进入到对应安检口队列。如果同时有两个或两个以上安检口都可以接收乘客进入队列，则乘客首先进入小序号的安检口。
3. 若某安检口发出暂停信号，系统检查其他安检口的状态，若有未申请暂停的安检口，且“排队缓冲区”乘客数量除以开放的安检口数量小于最大允许等待长度（MaxSeqLen），则批准该安检口休息，停止分配乘客到该安检口，等该安检口队列中全部乘客都结束安检后，进入休息状态，一段时间后再恢复办理状态；若所有其他安检口都已申请休息，则不允许该安检口暂停。说明：MaxSeqLen是一个系统可以配置的参数，保存在配置文件中，系统初始化时需要读取此参数。
   要对安检口的累计休息时间进行统计，如果同时有多个安检口申请暂停休息，则累计休息时间短的安检口优先获得休息权。“同时有多个安检口申请”表示规定时间（如2秒）内，有2个以上安检口同时发出申请休息请求。
4. 乘客安检的时间长短由随机数产生，范围在MinTimeLen到MaxTimeLen之间，安检口暂停休息时间长短由随机数产生，范围在MinRestTimeLen到MaxRestTimeLen之间。MinTimeLen，MaxTimeLen，MinRestTimeLen，MaxRestTimeLen这四个值是系统可以配置的参数，保存在配置文件中，系统初始化时需要读取此参数。
5. 安检口暂停服务时显示“暂停”，安检口正在服务时显示剩余服务时间，关闭的安检口显示“关闭”。
6. 当下班时间到或者下班指令发出，要关闭候机室，不再允许新乘客进入。等待所有之前进入候机室的乘客全部通过安检，退出程序。

三．输入输出
要求开发两个版本：命令行版本和动画版本。具体说明如下：
命令行版本，要求实现键盘输入、命令行输出，并将输出结果记录到文件。
动画版本，要求实现图形界面输入、动画输出，并将输出结果记录到文件。
		（一）输入
		输入数据包括两种：初始化配置信息和事件发生命令
		初始化信息包括：单队列最大等待乘客数、蛇形缓冲区最多队列数、最大允许等待长度、一次安检最短时长、一次安检最大时长、安检口一次暂停休息最短时长、安检口一次暂停休息最大时长等参数。
事件发生命令包括：乘客申请进入“排队缓冲区”事件、安检口暂停请求、安检口恢复服务请求、下班指令。
输入可以采用两种方法：
1．键盘输入
在程序刚开始运行时，先提示用户从键盘输入初始化信息，程序运行中从键盘接受事件发生命令。可以设定初始化信息的输入顺序和格式如下：
[MaxCustSingleLine]30      //单队列最大等待乘客数
  [MaxLines]8               //蛇形缓冲区最多由MaxLines个直队组成
  [MaxSeqLen]10            //最大允许等待长度
  [MinTimeLen]2            //一次安检最短时长，单位为秒
  [MaxTimeLen]5           //一次安检最大时长，单位为秒
[MinRestTimeLen]30       //安检口一次暂停休息最短时长，单位为秒
[MaxRestTimeLen]60      //安检口一次暂停休息最大时长，单位为秒
	初始化信息也可以事先写入一个配置文件(config.txt)，程序启动时，自动读取该配置文件，文件格式同上，此时不需要从键盘录入初始化信息。

初始化信息输入后，程序开始运行，程序运行过程中可接受键盘输入的事件发生命令，设定按键如下：
‘G’表示一个乘客申请进入“排队缓冲区”。
‘RX’表示X号安检口请求暂停，X取值为1~8。
‘CX’表示X号安检口请求恢复安检，X取值为1~8。
‘Q’表示下班。


2．图形界面输入
初始化信息可事先从配置文件(config.txt)读取，也可从图形化界面依次录入。
事件发生命令从图形化界面点击录入，要求如下：
窗口中设置“乘客进入”按钮，鼠标点击表示乘客申请进入“排队缓冲区”。当“排队缓冲区”未达到容量上限时，准许乘客进入。
窗口中专门设置安检口“申请暂停”和“恢复服务”按钮，鼠标点击表示发出相应命令。
窗口中设置“下班”的按钮，鼠标点击表示发出下班指令。


输出
命令行输出
周期性（如每隔3秒）在命令行窗口打印出排队缓冲区和所有安检口的状态信息。在每个周期内(如3秒)，如果排队缓冲区、安检口和安检口队列有任何状态变化（如排队缓冲区新到乘客，缓冲区有乘客进入安检口队列，安检口队列有乘客进入安检口，安检口开始暂停休息，安检口休息结束，安检口申请暂停被拒绝，等）要立即打印出状态变化信息。
每次打印格式如下：
第1行：T=当前时间，表示从程序启动到现在为止经历的秒数。
第2行：输入事件处理结果，如乘客进入、缓冲区满拒绝进入、安检口XXX(可能多个)开始休息、安检口XXX(可能多个)拒绝休息、安检口XXX（可能多个）恢复休息、下班。如果没有输入事件发生，本行不用输出。
第3行：OFFDUTY=Y/N，表示是否下班
第4行：ListLines=排队缓冲区队列数（如果是蛇形队列时，该队列数必大于1），ListCustCount=排队缓冲区总乘客数
第5~12行：每一行输出一个安检口的状态，格式如下。
WIN1:State=安检口状态，ServLen=已服务时长/计划服务时长，RestLen=已休息时长/计划休息时长，WinListCustCount=安检口队列人数
说明：
1)	安检口状态：至少包括空闲、服务、休息、关闭4种状态。
2)	计划服务时长(秒)：指的是分配给当前在此安检口安检的乘客进行安检的时长。
3)	已服务时长(秒)：指的是当前正在安检的乘客已经安检了多长时间。
4)	计划休息时长(秒)：指的是如果本安检口在休息，则总共会休息的时长。
5)	已休息时长(秒)：指的是如果本安检口在休息，则已经休息的时长。
6)	如果当前安检口在“服务”中，则RestLen=0/0；如果当前安检口在“空闲”或“休息”中，则ServLen=0/0；如果当前安检口在“关闭”中，则不用输出ServLen，RestLen，WinListState，WinListCustCount。
WIN2:同上
...
WIN8:同上
第13行：输出一个空行，表示本次打印结束。

动画输出
在图形界面中动态显示安检口、安检口队列和排队缓冲区状态，以及是否下班。当安检口在服务中时，显示当前乘客剩余服务时间；当在休息状态时，显示剩余休息时间。
文件输出
将安检系统运行的全过程记录在一个文件中(output.txt)，文件格式可参照命令行输出格式。

五．自由选择的高级功能
1. 用概率数学模型模拟生成乘客的数量
   使用概率模型，如正态分布、泊松分布等，模拟生成乘客的数量，即乘客进入排队缓冲区的数量随着时间按一定的规律变化，从而能智能模拟乘客的活动。
2. 实现客流监控，可以根据乘客数量动态新开/关闭部分安检口，但至少要保证有一个安检口是开放的。当“排队缓冲区”中乘客数量为“当前开放的安检口”数量的3倍时，可以动态增加一个安检口，最多增加4个安检口。当“排队缓冲区”中乘客数量小于“当前开放的安检口”数量的2倍时，可以动态关闭增加的安检口，恢复到初始开放的安检口。
3. 乘客从排队缓冲区进入安检口通道选择采用更优化的调度方式,使资源利用更合理。如：不同安检口的工作人员工作效率会有差别，当同时有多个安检口队列可以接收乘客、且这些安检口队列长度相等时，将乘客优先分配到安检效率高的安检口；优先将顾客分配到安检口队列人数少的安检口等。

实现要求
本系统功能大致如下：


为了 保障开发进度可控，降低开发复杂度，本系统分两次迭代来实现，对应需要提交两个版本：
版本一：命令行版本
输入从键盘读取或从配置文件读取，输出到命令行和文件。实现功能：排队缓冲区管理、分配乘客到安检口、安检、安检口休息管理、下班（第13周验收）。

版本二：图形化版本
在版本一基础上，要求实现图形界面输入、动画输出，并将输出结果记录到文件（第16周验收）。

